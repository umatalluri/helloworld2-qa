<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Connectivity Test</title>
    <style>
        body {
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        h1 {
            text-align: center;
            font-size: 24px;
            margin-top: 20px;
        }
        .status {
            font-size: 20px;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Website Connectivity Test</h1>

    <div id="qa-status" class="status">Checking connectivity to QA...</div>
    <div id="pre-status" class="status">Checking connectivity to PRE...</div>
    <div id="dev-status" class="status">Checking connectivity to DEV...</div>

    <script>
        // Array of URLs to test
        const sites = [
            { url: "https://hello-world2-qa.azurewebsites.net/", elementId: "qa-status", name: "QA" },
            { url: "https://hello-world2-pre.azurewebsites.net/", elementId: "pre-status", name: "PRE" },
            { url: "https://hello-world2-dev.azurewebsites.net/", elementId: "dev-status", name: "DEV" }
        ];

        // Function to test reachability using fetch API
        function checkConnectivity(site) {
            fetch(site.url)
            .then(response => {
                if (response.ok) {
                    document.getElementById(site.elementId).innerHTML = `${site.name} (${site.url}) is reachable (Status: 200)`;
                    document.getElementById(site.elementId).style.color = 'green';
                } else {
                    document.getElementById(site.elementId).innerHTML = `${site.name} (${site.url}) is not reachable (Status: ${response.status})`;
                    document.getElementById(site.elementId).style.color = 'red';
                }
            })
            .catch(error => {
                document.getElementById(site.elementId).innerHTML = `${site.name} (${site.url}) is not reachable (Error: ${error.message})`;
                document.getElementById(site.elementId).style.color = 'red';
            });
        }

        // Check all sites on page load
        window.onload = function() {
            sites.forEach(site => checkConnectivity(site));
        };
    </script>
</body>
</html>
